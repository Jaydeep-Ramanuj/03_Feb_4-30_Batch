<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="" novalidate>
      <input type="text" name="" id="password" />
      <button onclick="return false">Submit</button>
    </form>

    <script>
      const inp = document.querySelector('#password');
      const btn = document.querySelector('button');

      btn.addEventListener('click', () => {
        let passVal = inp.value;
        if (!(passVal.length <= 0) && passVal != undefined) {
          let isPasswordValid = validatePassword(passVal);
          console.log(isPasswordValid);
        }
      });

      function validatePassword(passVal) {
        let isEmpty = false;
        let isLessThan3Characters = false;
        let isGreaterThan20Characters = false;
        let isSmallCharacterExists = false;
        let isCapitalCharacterExists = false;
        let isNumberExists = false;
        let isSpecialCharacterExists = false;

        let allowedSpecialSymbols = '~@!#$%^&*()-+-/?';

        passVal.length == 0 && (isEmpty = true);
        passVal.length < 3 && (isLessThan3Characters = true);
        passVal.length > 20 && (isGreaterThan20Characters = true);
        for (let i = 0; i < passVal.length; i++) {
          if (passVal[i] == passVal[i].toLowerCase()) {
            isSmallCharacterExists = true;
            break;
          }
        }
        for (let i = 0; i < passVal.length; i++) {
          if (passVal[i] == passVal[i].toUpperCase()) {
            isCapitalCharacterExists = true;
            break;
          }
        }
        for (let i = 0; i < passVal.length; i++) {
          if (!isNaN(passVal[i])) {
            isNumberExists = true;
            break;
          }
        }
        for (let i = 0; i < passVal.length; i++) {
          if (allowedSpecialSymbols.includes(passVal[i])) {
            isSpecialCharacterExists = true;
            break;
          }
        }

        // let some = 'a133';
        // console.log(!isNaN(some[0]));

        // console.log(isSmallCharacterExists);
        // console.log(isCapitalCharacterExists);
        // console.log(isNumberExists);
        // console.log(isSpecialCharacterExists);
        // console.log(!isLessThan3Characters);
        // console.log(!isGreaterThan20Characters);

        // console.log(
        //   !isEmpty &&
        //     isCapitalCharacterExists &&
        //     isSmallCharacterExists &&
        //     isNumberExists &&
        //     isSpecialCharacterExists &&
        //     !isLessThan3Characters &&
        //     !isGreaterThan20Characters
        // );
        return (
          !isEmpty &&
          isCapitalCharacterExists &&
          isSmallCharacterExists &&
          isNumberExists &&
          isSpecialCharacterExists &&
          !isLessThan3Characters &&
          !isGreaterThan20Characters
        );
      }
    </script>
  </body>
</html>
